

<!DOCTYPE html>
<html>
<head>
<title>Calcular Combust√≠vel</title>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
 background-color: black;
 color: white;
 }

 .invert {
 background-color: white;
 color: black;
 }

 h1 {
 margin-top: 0;
 }

 form {
 display: flex;
 flex-direction: column;
 width: fit-content;
 margin-bottom: 1rem;
 }

 button {
 margin-top: 1rem;
 }

 label {
 display: block;
 margin-bottom: 0.5rem;
 }

 input {
 margin-bottom: 1rem;
 padding: 0.5rem;
 border-radius: 0.5rem;
 border: 1px solid #ccc;
 font-size: 1rem;
 }

 .divgeral {
 display: flex;
 justify-content: center;
 flex-direction: column;
 }
 
 button.calcular {
  background-color: #00BFFF;
  font-weight: bold;
  height: 30px;
}

li {
  font-size: 14px;
}

@media screen and (max-width: 480px) {
  li {
    font-size: 11px;
  }
}

.abasteca {
  font-size: 18px;
}

.popup {
            display: none;
            position: fixed;
            left: 50%;
            top: 40%;
            transform: translate(-50%, -50%);
            background: green;
            border: 1px solid black;
            padding: 20px;
            width: 350px;
        }
		
		#closeButton {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: transparent;
    border: none;
    font-size: 18px;
    cursor: pointer;
}
		
 </style>
 </head>

<body onload="carregarValores(); atualizarBotaoLuz();">
 <div class="divgeral">
 <div style="margin-left: auto; margin-right: auto; text-align: center; ">
 <button onclick="abrirPremium()">üîí Acesso Premium</button>
    <div class="popup" id="popup">
	<button id="closeButton" onclick="fecharPopup()">X</button>
        <h3>Acesso Premium</h3>
        <p>Adquira o acesso Premium agora! Envie um PIX de R$ 2,99 para o email guidopossi@gmail.com. Depois envie a imagem do comprovante no campo abaixo e ap√≥s alguns segundos tenha o acesso liberado. Esse valor promocional √© por tempo limitado, n√£o perca!</p>
        <input type="file" id="comprovante" accept="image/*">
        <button onclick="enviarComprovante()">Enviar</button>
        <p id="timer"></p>
    </div>
    <script>
        function abrirPremium() {
		atualizarBotaoLuz();
            if (localStorage.getItem("acessoPremium")) {
                alert("Voc√™ j√° tem acesso premium!");
            } else {
                exibirPopup();
            }
        }

        function exibirPopup() {
            document.getElementById("popup").style.display = "block";
        }

        function fecharPopup() {
            document.getElementById("popup").style.display = "none";
        }
		
		function atualizarBotaoLuz() {
  var luzButton = document.getElementById("luzButton");
  if (localStorage.getItem("acessoPremium")) {
    luzButton.disabled = false;
  } else {
    luzButton.disabled = true;
  }
}


        function enviarComprovante() {
            var comprovante = document.getElementById("comprovante");
            var timer = document.getElementById("timer");

            if (comprovante.files.length > 0) {
                var countdown = 15;
                timer.innerHTML = "Aguarde " + countdown + " segundos para libera√ß√£o do acesso.";
                var countdownInterval = setInterval(function () {
                    countdown--;
                    timer.innerHTML = "Aguarde " + countdown + " segundos para libera√ß√£o do acesso.";

                    if (countdown <= 0) {
                        clearInterval(countdownInterval);
                        localStorage.setItem("acessoPremium", "true");
                        fecharPopup();
                        timer.innerHTML = "";
                        alert("PARAB√âNS... agora voc√™ tem o acesso premium e pode acender a Luz!");
						atualizarBotaoLuz();
                    }
                }, 1000);
            } else {
                alert("Por favor, selecione o arquivo da imagem do comprovante PIX.");
            }
        }
    </script>
 <button id="luzButton" onclick="inverterCores()">üí° Luz</button>

 <script>
 function inverterCores() {
 var body = document.querySelector("body");
 body.classList.toggle("invert");
 }
 </script>

 <br><br>

 <style>
 #myButton {
 background-color: white;
 color: black;
 }

 #myButton.dark {
 background-color: black;
 color: white;
 }
 </style>
 <script>
 function toggleColors() {
 var button = document.getElementById("myButton");
 button.classList.toggle("dark");
 }
 </script>

 <h1>Calcular Combust√≠vel</h1>
 </div>

 <div style="margin-left: auto; margin-right: auto; ">
 <form>
 <label for="precoGasolina">‚õΩ Pre√ßo da Gasolina:</label>
<input type="tel" id="precoGasolina" name="precoGasolina" placeholder="Digite somente n√∫meros" onfocus="this.select()" oninput="adicionarVirgula(this)" onblur="formatarCampo(this)">
 <label for="precoAlcool">üç∫ Pre√ßo do √Ålcool:</label>
<input type="tel" id="precoAlcool" name="precoAlcool" placeholder="Digite somente n√∫meros" onfocus="this.select()" oninput="adicionarVirgula(this)" onblur="formatarCampo(this)">
 <label for="kmLitro">üöô KM/L do Autom√≥vel:</label>
 <input type="number" step="0.01" id="kmLitro" name="kmLitro" placeholder="Digite somente n√∫meros" onfocus="this.select()">
 <label for="distancia">üó∫Ô∏è Dist√¢ncia a percorrer (KM):</label>
 <input type="number" id="distancia" name="distancia" placeholder="Digite somente n√∫meros" onfocus="this.select()">
 <button type="button" class="calcular" onclick="calcularLitros(); armazenarValor()">Calcular</button>
 </form>
 </div>
 <div style="margin-left: auto; margin-right: auto; text-align: center; ">
 <p id="resultado"></p>
 <p id="litros"></p>
 </div>

 <script>
 
 function adicionarVirgula(campo) {
  var valor = removerRS(campo.value);
  valor = valor.replace(/\D/g, "");
  if (valor.length === 1) {
    valor = "0," + valor;
  } else if (valor.length > 1) {
    valor = parseInt(valor.slice(0, -2)) + "," + valor.slice(-2);
  }
  campo.value = "R$ " + valor;
}



function formatarCampo(campo) {
  var valor = removerRS(campo.value);
  valor = valor.replace(/[^0-9,]/g, "").replace(/,+/g, ",");
  if (valor.indexOf(',') === 0) {
    valor = "0" + valor;
  }
  campo.value = "R$ " + valor;
}


function removerRS(valor) {
  return valor.replace(/R\$/g, "").trim();
}



function calcularLitros() {
  var precoGasolina = parseFloat(removerRS(document.getElementById("precoGasolina").value).replace(",", "."));
  var precoAlcool = parseFloat(removerRS(document.getElementById("precoAlcool").value).replace(",", "."));
  var kmLitro = document.getElementById("kmLitro").value;
  var distancia = document.getElementById("distancia").value;
  var litrosNecessarios = distancia / kmLitro;
  var relacao = precoAlcool / precoGasolina;
  var vantajosoAteAlcool = precoGasolina * 0.7;
  var vantajosoAteGasolina = precoAlcool / 0.7;
  var precoNecessariogas = litrosNecessarios * precoGasolina;
  var precoNecessarioalc = litrosNecessarios * precoAlcool;

  if (relacao > 0.7) {
    document.getElementById("resultado").innerHTML = "<span class='abasteca'>üëâ ABASTE√áA COM GASOLINA</span>" + "<br> <br> ‚ö†Ô∏è Com base no valor informado de √°lcool (R$ " + precoAlcool.toFixed(2) + "), abastecer com gasolina √© vantajoso at√© R$ " + vantajosoAteGasolina.toFixed(2) + "."; // Corrigido aqui
    document.getElementById("litros").innerHTML = "üó∫Ô∏è Para essa dist√¢ncia s√£o necess√°rios " + litrosNecessarios.toFixed(2) + " litros de gasolina, com um custo de R$ " + precoNecessariogas.toFixed(2);
  } else {
    document.getElementById("resultado").innerHTML = "<span class='abasteca'>üëâ ABASTE√áA COM √ÅLCOOL</span>" + "<br> <br> ‚ö†Ô∏è Com base no valor informado de gasolina (R$ " + precoGasolina.toFixed(2) + "), abastecer com √°lcool √© vantajoso at√© R$ " + vantajosoAteAlcool.toFixed(2) + ".";
    document.getElementById("litros").innerHTML = "üó∫Ô∏è Para essa dist√¢ncia s√£o necess√°rios " + litrosNecessarios.toFixed(2) + " litros de √°lcool, com um custo de R$ " + precoNecessarioalc.toFixed(2);
  }
}



 </script>

 <center>
 _____________________________________<br><br>
 Hist√≥rico - √öltimos 10 Valores:</center>
 <div style="margin-left: auto; margin-right: auto; width: fit-content; ">

 <ul id="listaValores"></ul>
 <center><button id="apagarHistorico" onclick="apagarHistorico()">Apagar Hist√≥rico</button></center>

 </div>

 <script>
 function apagarHistorico() {
  if (window.confirm("Deseja apagar o hist√≥rico?")) {
    var listaValores = document.getElementById("listaValores");
    listaValores.innerHTML = "";
    localStorage.setItem("valores", "");
  }
}

 
function armazenarValor() {
  var valorGasolina = document.getElementById("precoGasolina").value;
  var valorAlcool = document.getElementById("precoAlcool").value;
  if (valorGasolina != "" && valorAlcool != "") {
    var listaValores = document.getElementById("listaValores");
    var data = new Date().toLocaleDateString();
    var li = document.createElement("li");
    li.appendChild(document.createTextNode("Em " + data + " Pre√ßo gasolina " + valorGasolina + " / Pre√ßo √°lcool " + valorAlcool));
    listaValores.insertBefore(li, listaValores.firstChild);
    if (listaValores.children.length > 10) {
      listaValores.removeChild(listaValores.lastChild);
    }
    localStorage.setItem("valores", listaValores.innerHTML);
  }
}

 
 function carregarValores() {
 var listaValores = document.getElementById("listaValores");
 listaValores.innerHTML = localStorage.getItem("valores") || "";
 }
 </script>
 </div>



 </body>

 </html>
